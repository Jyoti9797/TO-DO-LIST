<!doctype html>
<html lang="en">

<head>

  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
    integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
  <style>
    html {
  height: 100%;
  width: 100%;
}
.nav-link:hover{
	background-color: #232934;
	font-weight: bold;
	border-top: 0.3px solid blue;
	border-bottom: 2px solid #ff0019;
	border-left: 1px solid #00eeff;
	border-right: 1.5px solid #00eeff;
	border-radius: 10px;

	
}

body{
/* 	background-image: url('https://source.unsplash.com/1600x900/?productive'); */
	width: 100%;
	height: auto;
}

::placeholder{
	padding: 10px;
	margin: 0px;
}
  </style>
  <title>let's do it</title>
</head>

<body style="background: url('https://source.unsplash.com/1600x900/?black');">
  <div style='color: white'>

    <link rel="stylesheet" href="style.css">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <a class="navbar-brand" style="font-weight: bolder;" href="#">To Do List</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item active">
            <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">About</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">More Sites</a>
          </li>
          <li class="nav-item">
            <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Made By<b> Jyotirmoy Nath </b></a>
          </li>
        </ul>
      </div>
    </nav>
    <h1 class="text-center">Let's Do This</h1>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
      crossorigin="anonymous"></script>


    <div class='form' style="margin-left: 150px;">
      <div class='mR150' style="margin-right: 150px;">
        <div class="form-group">
          <label for="exampleInputEmail1">Task</label>
          <div style="color: white;">
            <input type="text" class="form-control" id="exampleInputEmail1" placeholder="Enter the task" aria-describedby="emailHelp"
              style="background: url('https://img.freepik.com/free-vector/elegant-white-background-with-shiny-lines_1017-17580.jpg?w=740&t=st=1679555933~exp=1679556533~hmac=2087c8ca0d20ed46f4ba043de7a0ead6de8c01011f2e449f154807f88a1a243e')";>
          </div>
          <small id="emailHelp" class="form-text text-muted">Write about your task for the day!</small>
        </div>
        <div class="form-floating">
          <label for="floatingTextarea2">Discription</label>
          <textarea class="form-control" placeholder="WHY?" id="floatingTextarea2"
            style="background: url('https://img.freepik.com/free-vector/elegant-white-background-with-shiny-lines_1017-17580.jpg?w=740&t=st=1679555933~exp=1679556533~hmac=2087c8ca0d20ed46f4ba043de7a0ead6de8c01011f2e449f154807f88a1a243e');" id ='discription'></textarea>

</div>
  </div>
 
  <button class="btn btn-primary" style="margin-top: 5px;" id='addButton'>Add to list</button> 
<!--   <button class="btn btn-primary" style="margin-top: 5px;" id='restButton' onclick="restFunc()">Rest</button>  -->
  </div>
  <table class="table" style="margin-top:20px;">
  <thead style="color: white; font-weight: bolder;">
    <tr>
      <th scope="col">Task.no</th>
      <th scope="col">TASK</th>
      <th scope="col">DISCRIPTION</th>
      <th scope="col">Action</th>
    </tr>
  </thead>
  <tbody style="color: white; font-weight: bold;"; id="table">
	  <tr>
        <th scope="row">Example=></th>
        <td>Ex. 'task'</td>
        <td>Ex. 'description'</td>
     </tr> 
  </tbody>
</table>

  </div>
  </img>
  </div>
  <script>
	  function newUpdate(){
      title = document.getElementById('exampleInputEmail1').value;
      discription = document.getElementById('floatingTextarea2').value;
      console.log("List Updated!");
      if (localStorage.getItem('itemsJson') == null) {
        itemJsonArray = [];
        itemJsonArray.push([title, discription]);
        localStorage.setItem('itemsJson', JSON.stringify(itemJsonArray));
      }
      else {
        itemJsonArrayStr = localStorage.getItem('itemsJson');
        itemJsonArray = JSON.parse(itemJsonArrayStr);
        itemJsonArray.push([title, discription])
        localStorage.setItem('itemsJson', JSON.stringify(itemJsonArray));
      }
    update();
   }
    function update() {
      title = document.getElementById('exampleInputEmail1').value;
      discription = document.getElementById('floatingTextarea2').value;
      console.log("List Updated!");
      if(localStorage.getItem('itemsJson') == null) {
        itemJsonArray = [];
        localStorage.setItem('itemsJson', JSON.stringify(itemJsonArray));
      }
	  else{
        itemJsonArrayStr = localStorage.getItem('itemsJson')
        itemJsonArray = JSON.parse(itemJsonArrayStr); 
	  }
      let tableBody = document.getElementById('table');
      let str = "";
      itemJsonArray.forEach((element, index) => {
        str += `
        <tr>
        <th scope="row">${index + 1}</th>
        <td>${element[0]}</td>
        <td>${element[1]}</td>
        <td><button class='btn btn-primary' id='remove' onclick='removed(${index})'>Remove</button></td>
        </tr> `;
        tableBody.innerHTML = str;
      });
    }
    add = document.getElementById('addButton');
    add.addEventListener('click', newUpdate);
    update()

    function removed(itemIndex){
      console.log('deleted', title);
      itemJsonArrayStr = localStorage.getItem('itemsJson');
      itemJsonArray = JSON.parse(itemJsonArrayStr);
      itemJsonArray.splice(itemIndex, 1)
      localStorage.setItem('itemsJson', JSON.stringify(itemJsonArray));
	  update();
    }
    // function restFunc(){
    //   localStorage.clear()
    //   console.log("Local Storage has been Deleted!");
	  
    //   update();
    // }
</script>
</html>
		
